--
-- Script was generated by Devart dbForge Studio for SQL Server, Version 5.5.311.0
-- Product home page: http://www.devart.com/dbforge/sql/studio
-- Script date 2/13/2020 6:27:13 PM
-- Server version: 11.00.3000
--



USE nascco
GO

IF DB_NAME() <> N'nascco' SET NOEXEC ON
GO

--
-- Create table [dbo].[users]
--
PRINT (N'Create table [dbo].[users]')
GO
CREATE TABLE dbo.users (
  id int IDENTITY,
  member_id int NOT NULL,
  roles_id int NOT NULL,
  statuses_id int NOT NULL,
  username varchar(255) NOT NULL,
  password text NOT NULL,
  created_by_user_id int NOT NULL,
  date_created date NOT NULL,
  CONSTRAINT PK_user_account_id PRIMARY KEY CLUSTERED (id),
  CONSTRAINT KEY_users_username UNIQUE (username)
)
ON [PRIMARY]
TEXTIMAGE_ON [PRIMARY]
GO

--
-- Create table [dbo].[statuses]
--
PRINT (N'Create table [dbo].[statuses]')
GO
CREATE TABLE dbo.statuses (
  id int IDENTITY,
  description varchar(255) NULL,
  CONSTRAINT PK_status_id PRIMARY KEY CLUSTERED (id)
)
ON [PRIMARY]
GO

--
-- Create table [dbo].[spouse]
--
PRINT (N'Create table [dbo].[spouse]')
GO
CREATE TABLE dbo.spouse (
  id int IDENTITY,
  lastname varchar(255) NOT NULL,
  firstname varchar(255) NOT NULL,
  middlename varchar(255) NOT NULL,
  date_of_birth date NOT NULL,
  occupation varchar(255) NULL,
  employer varchar(255) NULL,
  employer_address varchar(255) NULL,
  employer_contact varchar(255) NULL,
  monthly_income decimal(18, 2) NULL,
  contact_numbers varchar(255) NULL,
  employment_status int NOT NULL,
  date_started date NULL,
  date_ended date NULL,
  member_id int NOT NULL,
  created_by_user_id int NOT NULL,
  CONSTRAINT PK_spouse_id PRIMARY KEY CLUSTERED (id)
)
ON [PRIMARY]
GO

--
-- Create table [dbo].[settings]
--
PRINT (N'Create table [dbo].[settings]')
GO
CREATE TABLE dbo.settings (
  id int IDENTITY,
  description varchar(255) NOT NULL,
  value decimal(18, 2) NOT NULL,
  fees_masterfile_id int NULL,
  tags varchar(50) NULL,
  CONSTRAINT PK_settings_id PRIMARY KEY CLUSTERED (id)
)
ON [PRIMARY]
GO

--
-- Create table [dbo].[roles]
--
PRINT (N'Create table [dbo].[roles]')
GO
CREATE TABLE dbo.roles (
  id int IDENTITY,
  description varchar(50) NOT NULL,
  status_id int NOT NULL,
  CONSTRAINT PK_role_id PRIMARY KEY CLUSTERED (id)
)
ON [PRIMARY]
GO

--
-- Create table [dbo].[references]
--
PRINT (N'Create table [dbo].[references]')
GO
CREATE TABLE dbo.[references] (
  id int IDENTITY,
  full_name varchar(255) NOT NULL,
  address text NOT NULL,
  contact_number varchar(255) NOT NULL,
  relation varchar(255) NOT NULL,
  member_id int NOT NULL,
  CONSTRAINT PK_references_id PRIMARY KEY CLUSTERED (id)
)
ON [PRIMARY]
TEXTIMAGE_ON [PRIMARY]
GO

--
-- Create table [dbo].[member]
--
PRINT (N'Create table [dbo].[member]')
GO
CREATE TABLE dbo.member (
  id int IDENTITY,
  pmes_certificate_number varchar(255) NULL,
  date_of_application date NOT NULL,
  lastname varchar(255) NOT NULL,
  firstname varchar(255) NOT NULL,
  middlename varchar(255) NULL,
  date_of_birth date NOT NULL,
  place_of_birth varchar(255) NOT NULL,
  height varchar(50) NULL,
  weight varchar(50) NULL,
  tin varchar(50) NULL,
  sss_number varchar(50) NULL,
  others_id varchar(255) NULL,
  highest_education varchar(255) NULL,
  course varchar(255) NULL,
  present_address text NOT NULL,
  address_status varchar(50) NULL,
  provincial_address varchar(255) NULL,
  present_address_lenght_of_time varchar(255) NULL,
  contact_numbers varchar(255) NOT NULL,
  email_address varchar(50) NULL,
  statuses_id int NOT NULL,
  employee_id int NOT NULL,
  created_by_user_id int NOT NULL,
  CONSTRAINT PK_member_id PRIMARY KEY CLUSTERED (id),
  CONSTRAINT KEY_member_employee_id UNIQUE (employee_id)
)
ON [PRIMARY]
TEXTIMAGE_ON [PRIMARY]
GO

--
-- Create table [dbo].[loan_type]
--
PRINT (N'Create table [dbo].[loan_type]')
GO
CREATE TABLE dbo.loan_type (
  id int IDENTITY,
  description varchar(255) NOT NULL,
  CONSTRAINT PK_loan_type_id PRIMARY KEY CLUSTERED (id)
)
ON [PRIMARY]
GO

--
-- Create table [dbo].[loan_application]
--
PRINT (N'Create table [dbo].[loan_application]')
GO
CREATE TABLE dbo.loan_application (
  id int IDENTITY,
  member_id int NOT NULL,
  terms_of_payment varchar(255) NOT NULL,
  loan_type_id int NOT NULL,
  date_created date NOT NULL,
  from_date date NULL,
  to_date date NULL,
  CONSTRAINT PK_loan_application_id PRIMARY KEY CLUSTERED (id)
)
ON [PRIMARY]
GO

--
-- Create table [dbo].[fees_masterfile]
--
PRINT (N'Create table [dbo].[fees_masterfile]')
GO
CREATE TABLE dbo.fees_masterfile (
  id int IDENTITY,
  description varchar(255) NOT NULL,
  fees_category_id int NOT NULL,
  CONSTRAINT PK_fees_masterfile_id PRIMARY KEY CLUSTERED (id)
)
ON [PRIMARY]
GO

--
-- Create table [dbo].[fees_category]
--
PRINT (N'Create table [dbo].[fees_category]')
GO
CREATE TABLE dbo.fees_category (
  id int IDENTITY,
  description varchar(50) NOT NULL,
  CONSTRAINT PK_fees_category_id PRIMARY KEY CLUSTERED (id)
)
ON [PRIMARY]
GO

--
-- Create table [dbo].[employment]
--
PRINT (N'Create table [dbo].[employment]')
GO
CREATE TABLE dbo.employment (
  id int IDENTITY,
  position varchar(255) NOT NULL,
  date_hired date NOT NULL,
  employer varchar(255) NOT NULL,
  employer_address varchar(255) NOT NULL,
  contact_numbers varchar(255) NOT NULL,
  monthly_income varchar(255) NOT NULL,
  member_id int NOT NULL,
  CONSTRAINT PK_employment_id PRIMARY KEY CLUSTERED (id)
)
ON [PRIMARY]
GO

--
-- Create table [dbo].[payment]
--
PRINT (N'Create table [dbo].[payment]')
GO
CREATE TABLE dbo.payment (
  id int IDENTITY,
  fees_masterfile_id int NOT NULL,
  amount decimal(18, 2) NOT NULL,
  date_created date NOT NULL,
  member_id int NOT NULL,
  CONSTRAINT PK_payment_id PRIMARY KEY CLUSTERED (id)
)
ON [PRIMARY]
GO
-- 
-- Dumping data for table [references]
--
SET IDENTITY_INSERT dbo.[references] ON
GO
INSERT dbo.[references](id, full_name, address, contact_number, relation, member_id) VALUES (1, N'Danilo Torres', N'Woodridge', N'14344', N'Manager', 4)
GO
SET IDENTITY_INSERT dbo.[references] OFF
GO
-- 
-- Dumping data for table employment
--
-- Table nascco.dbo.employment does not contain any data (it is empty)
-- 
-- Dumping data for table fees_category
--
SET IDENTITY_INSERT dbo.fees_category ON
GO
INSERT dbo.fees_category(id, description) VALUES (1, N'Capital')
INSERT dbo.fees_category(id, description) VALUES (2, N'Savings')
INSERT dbo.fees_category(id, description) VALUES (3, N'Regular Fees')
INSERT dbo.fees_category(id, description) VALUES (4, N'Loan Fees')
GO
SET IDENTITY_INSERT dbo.fees_category OFF
GO
-- 
-- Dumping data for table fees_masterfile
--
-- Table nascco.dbo.fees_masterfile does not contain any data (it is empty)
-- 
-- Dumping data for table loan_application
--
-- Table nascco.dbo.loan_application does not contain any data (it is empty)
-- 
-- Dumping data for table loan_type
--
SET IDENTITY_INSERT dbo.loan_type ON
GO
INSERT dbo.loan_type(id, description) VALUES (1, N'Salary Loan ')
INSERT dbo.loan_type(id, description) VALUES (2, N'Self- Reliant')
GO
SET IDENTITY_INSERT dbo.loan_type OFF
GO
-- 
-- Dumping data for table member
--
SET IDENTITY_INSERT dbo.member ON
GO
INSERT dbo.member(id, pmes_certificate_number, date_of_application, lastname, firstname, middlename, date_of_birth, place_of_birth, height, weight, tin, sss_number, others_id, highest_education, course, present_address, address_status, provincial_address, present_address_lenght_of_time, contact_numbers, email_address, statuses_id, employee_id, created_by_user_id) VALUES (3, NULL, '2020-02-07', N'master', N'master', NULL, '2020-02-07', N'n/a', NULL, NULL, NULL, NULL, NULL, NULL, NULL, N'n/a', NULL, NULL, NULL, N'n/a', NULL, 7, 2123, 2)
INSERT dbo.member(id, pmes_certificate_number, date_of_application, lastname, firstname, middlename, date_of_birth, place_of_birth, height, weight, tin, sss_number, others_id, highest_education, course, present_address, address_status, provincial_address, present_address_lenght_of_time, contact_numbers, email_address, statuses_id, employee_id, created_by_user_id) VALUES (4, N'221212', '2020-02-10', N'Dondong', N'Ronald', N'Duterte', '2020-02-10', N'Davao City', N'5''4', N'60kl', N'523433-323-3234', N'092123312', N'Pagibig-09034344', N'Lawyer', N'Lawyer', N'Buhangin', N'Permanent', N'Gov Generoso', N'2', N'43232323', N'dodongronald@nccc.com', 7, 2124, 2)
INSERT dbo.member(id, pmes_certificate_number, date_of_application, lastname, firstname, middlename, date_of_birth, place_of_birth, height, weight, tin, sss_number, others_id, highest_education, course, present_address, address_status, provincial_address, present_address_lenght_of_time, contact_numbers, email_address, statuses_id, employee_id, created_by_user_id) VALUES (9, N'PmesCertificateNo', '2020-02-10', N'Lastname', N'Firstname', N'MiddleName', '2020-02-10', N'test', N'33', N'44', N'66', N'55', N'77', N'HighestEducation', N'Course', N'PresentAddress', N'AddressStatus', N'ProvincialAddress', N'2 AddressLengthOfTime', N'88', N'Email@tester.com', 4, 2125, 2)
GO
SET IDENTITY_INSERT dbo.member OFF
GO
-- 
-- Dumping data for table payment
--
-- Table nascco.dbo.payment does not contain any data (it is empty)
-- 
-- Dumping data for table roles
--
SET IDENTITY_INSERT dbo.roles ON
GO
INSERT dbo.roles(id, description, status_id) VALUES (1, N'master-admin', 1)
INSERT dbo.roles(id, description, status_id) VALUES (2, N'admin', 1)
INSERT dbo.roles(id, description, status_id) VALUES (3, N'member', 1)
GO
SET IDENTITY_INSERT dbo.roles OFF
GO
-- 
-- Dumping data for table settings
--
-- Table nascco.dbo.settings does not contain any data (it is empty)
-- 
-- Dumping data for table spouse
--
SET IDENTITY_INSERT dbo.spouse ON
GO
INSERT dbo.spouse(id, lastname, firstname, middlename, date_of_birth, occupation, employer, employer_address, employer_contact, monthly_income, contact_numbers, employment_status, date_started, date_ended, member_id, created_by_user_id) VALUES (5, N'Lastname', N'Firstname', N'Middlename', '2020-02-13', N'Occupation', N'Employer', N'SpouseEmployerAddress', N'Contact', NULL, N'Contact Number', 7, '2020-02-13', NULL, 4, 2)
INSERT dbo.spouse(id, lastname, firstname, middlename, date_of_birth, occupation, employer, employer_address, employer_contact, monthly_income, contact_numbers, employment_status, date_started, date_ended, member_id, created_by_user_id) VALUES (6, N's', N'sss', N'sssss', '2020-02-13', N'ssssssss', N'sss', N'sssss', N'ssss', 22222.00, N'sssss', 3, '2020-02-13', NULL, 4, 2)
INSERT dbo.spouse(id, lastname, firstname, middlename, date_of_birth, occupation, employer, employer_address, employer_contact, monthly_income, contact_numbers, employment_status, date_started, date_ended, member_id, created_by_user_id) VALUES (9, N'asdasd', N'asd', N'asd', '2020-02-20', N'asdasd', N'asdasd', N'asdasd', N'asdasd', 3232.00, N'asdasd', 4, '2020-02-13', NULL, 3, 2)
GO
SET IDENTITY_INSERT dbo.spouse OFF
GO
-- 
-- Dumping data for table statuses
--
SET IDENTITY_INSERT dbo.statuses ON
GO
INSERT dbo.statuses(id, description) VALUES (1, N'Active')
INSERT dbo.statuses(id, description) VALUES (2, N'Inactive')
INSERT dbo.statuses(id, description) VALUES (3, N'Regular')
INSERT dbo.statuses(id, description) VALUES (4, N'Contractual')
INSERT dbo.statuses(id, description) VALUES (5, N'Seasonal')
INSERT dbo.statuses(id, description) VALUES (6, N'End-of-Contract')
INSERT dbo.statuses(id, description) VALUES (7, N'master-admin-status')
GO
SET IDENTITY_INSERT dbo.statuses OFF
GO
-- 
-- Dumping data for table users
--
SET IDENTITY_INSERT dbo.users ON
GO
INSERT dbo.users(id, member_id, roles_id, statuses_id, username, password, created_by_user_id, date_created) VALUES (2, 3, 1, 7, N'master-admin', N'jjpoyG9zvNfPW8r0sutFlA==', 2, '2020-02-08')
INSERT dbo.users(id, member_id, roles_id, statuses_id, username, password, created_by_user_id, date_created) VALUES (4, 4, 1, 7, N'dodong-ronald', N'uja2XSMuRPnhjQrBvwrc9w==', 2, '2020-02-12')
GO
SET IDENTITY_INSERT dbo.users OFF
GO

USE nascco
GO

IF DB_NAME() <> N'nascco' SET NOEXEC ON
GO

--
-- Create foreign key [FK_role_status_id] on table [dbo].[roles]
--
PRINT (N'Create foreign key [FK_role_status_id] on table [dbo].[roles]')
GO
ALTER TABLE dbo.roles
  ADD CONSTRAINT FK_role_status_id FOREIGN KEY (status_id) REFERENCES dbo.statuses (id)
GO

--
-- Create foreign key [FK_user_accounts_roles_id] on table [dbo].[users]
--
PRINT (N'Create foreign key [FK_user_accounts_roles_id] on table [dbo].[users]')
GO
ALTER TABLE dbo.users
  ADD CONSTRAINT FK_user_accounts_roles_id FOREIGN KEY (roles_id) REFERENCES dbo.roles (id)
GO

--
-- Create foreign key [FK_user_accounts_statuses_id] on table [dbo].[users]
--
PRINT (N'Create foreign key [FK_user_accounts_statuses_id] on table [dbo].[users]')
GO
ALTER TABLE dbo.users
  ADD CONSTRAINT FK_user_accounts_statuses_id FOREIGN KEY (statuses_id) REFERENCES dbo.statuses (id)
GO

--
-- Create foreign key [FK_member_created_by_user_id] on table [dbo].[member]
--
PRINT (N'Create foreign key [FK_member_created_by_user_id] on table [dbo].[member]')
GO
ALTER TABLE dbo.member
  ADD CONSTRAINT FK_member_created_by_user_id FOREIGN KEY (created_by_user_id) REFERENCES dbo.users (id)
GO

--
-- Create foreign key [FK_member_statuses_id] on table [dbo].[member]
--
PRINT (N'Create foreign key [FK_member_statuses_id] on table [dbo].[member]')
GO
ALTER TABLE dbo.member
  ADD CONSTRAINT FK_member_statuses_id FOREIGN KEY (statuses_id) REFERENCES dbo.statuses (id)
GO

--
-- Create foreign key [FK_user_account_member_id] on table [dbo].[users]
--
PRINT (N'Create foreign key [FK_user_account_member_id] on table [dbo].[users]')
GO
ALTER TABLE dbo.users
  ADD CONSTRAINT FK_user_account_member_id FOREIGN KEY (member_id) REFERENCES dbo.member (id)
GO

--
-- Create foreign key [FK_spouse_created_by_user_id] on table [dbo].[spouse]
--
PRINT (N'Create foreign key [FK_spouse_created_by_user_id] on table [dbo].[spouse]')
GO
ALTER TABLE dbo.spouse
  ADD CONSTRAINT FK_spouse_created_by_user_id FOREIGN KEY (created_by_user_id) REFERENCES dbo.users (id)
GO

--
-- Create foreign key [FK_spouse_employment_status] on table [dbo].[spouse]
--
PRINT (N'Create foreign key [FK_spouse_employment_status] on table [dbo].[spouse]')
GO
ALTER TABLE dbo.spouse
  ADD CONSTRAINT FK_spouse_employment_status FOREIGN KEY (employment_status) REFERENCES dbo.statuses (id)
GO

--
-- Create foreign key [FK_spouse_member_id] on table [dbo].[spouse]
--
PRINT (N'Create foreign key [FK_spouse_member_id] on table [dbo].[spouse]')
GO
ALTER TABLE dbo.spouse
  ADD CONSTRAINT FK_spouse_member_id FOREIGN KEY (member_id) REFERENCES dbo.member (id)
GO

--
-- Create foreign key [FK_references_member_id] on table [dbo].[references]
--
PRINT (N'Create foreign key [FK_references_member_id] on table [dbo].[references]')
GO
ALTER TABLE dbo.[references]
  ADD CONSTRAINT FK_references_member_id FOREIGN KEY (member_id) REFERENCES dbo.member (id)
GO

--
-- Create foreign key [FK_loan_application_loan_type_id] on table [dbo].[loan_application]
--
PRINT (N'Create foreign key [FK_loan_application_loan_type_id] on table [dbo].[loan_application]')
GO
ALTER TABLE dbo.loan_application
  ADD CONSTRAINT FK_loan_application_loan_type_id FOREIGN KEY (loan_type_id) REFERENCES dbo.loan_type (id)
GO

--
-- Create foreign key [FK_loan_application_member_id] on table [dbo].[loan_application]
--
PRINT (N'Create foreign key [FK_loan_application_member_id] on table [dbo].[loan_application]')
GO
ALTER TABLE dbo.loan_application
  ADD CONSTRAINT FK_loan_application_member_id FOREIGN KEY (member_id) REFERENCES dbo.member (id)
GO

--
-- Create foreign key [FK_employment_member_id] on table [dbo].[employment]
--
PRINT (N'Create foreign key [FK_employment_member_id] on table [dbo].[employment]')
GO
ALTER TABLE dbo.employment
  ADD CONSTRAINT FK_employment_member_id FOREIGN KEY (member_id) REFERENCES dbo.member (id)
GO

--
-- Create foreign key [FK_fees_masterfile_fees_category_id] on table [dbo].[fees_masterfile]
--
PRINT (N'Create foreign key [FK_fees_masterfile_fees_category_id] on table [dbo].[fees_masterfile]')
GO
ALTER TABLE dbo.fees_masterfile
  ADD CONSTRAINT FK_fees_masterfile_fees_category_id FOREIGN KEY (fees_category_id) REFERENCES dbo.fees_category (id)
GO

--
-- Create foreign key [FK_settings_fees_masterfile_id] on table [dbo].[settings]
--
PRINT (N'Create foreign key [FK_settings_fees_masterfile_id] on table [dbo].[settings]')
GO
ALTER TABLE dbo.settings
  ADD CONSTRAINT FK_settings_fees_masterfile_id FOREIGN KEY (fees_masterfile_id) REFERENCES dbo.fees_masterfile (id)
GO

--
-- Create foreign key [FK_payment_fees_masterfile_id] on table [dbo].[payment]
--
PRINT (N'Create foreign key [FK_payment_fees_masterfile_id] on table [dbo].[payment]')
GO
ALTER TABLE dbo.payment
  ADD CONSTRAINT FK_payment_fees_masterfile_id FOREIGN KEY (fees_masterfile_id) REFERENCES dbo.fees_masterfile (id)
GO

--
-- Create foreign key [FK_payment_member_id] on table [dbo].[payment]
--
PRINT (N'Create foreign key [FK_payment_member_id] on table [dbo].[payment]')
GO
ALTER TABLE dbo.payment
  ADD CONSTRAINT FK_payment_member_id FOREIGN KEY (member_id) REFERENCES dbo.member (id)
GO
SET NOEXEC OFF
GO